<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rock, Paper, Scissors</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script type="text/javascript" id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
</head>

<style>
@import url('https://fonts.googleapis.com/css2?family=Lora&display=swap');

* {
  font-family: Lora, serif;
}

nav > li {
  list-style: none;
  border: 1px solid yellow;
  display: inline-flex;
  padding: 20px 60px;
}

.material-symbols-outlined {
  padding-bottom: 0px;
  font-variation-settings:
  'FILL' 0,
  'wght' 400,
  'GRAD' 0,
  'opsz' 48,
}
</style>
</style>

<body style="display: flex; justify-content: center;">
  <main style="border: 1px solid green; max-width: 1000px">
    <header style="text-align: center; font-size: 50px; padding: 30px 0px; border: 1px solid red;">
      MAS116 Group Project (Group 25)
    </header>
    <nav style="border: 1px solid red; display: flex; justify-content: center;">
      <li><a href="index.html">HOME</a></li>
      <li><a href="rps.html">ROCK PAPER SCISSORS</a></li>
      <li><a href="penney.html">PENNEY'S GAME</a></li>
      <li><a href="dicegame.html">EFRON'S DICE</a></li>
      <li><a href="#">REFERENCES</a></li>
    </nav>
    <section style="margin: 0px 30px; border: 2px solid purple">
      
      <!-- All the content will go here -->

      <h2 style="text-align: center">Penney's Game</h2>
      <h3>Another example of non-transitive games is Penney's game.</h3>
      <p>For the reader who does not know how Penney's game is played.</p>
      <p>This is a well-known gambling game where the odds are stacked against the bettor.</p>
      <h3>How is Penney's game played?</h3>
      <ul>
          <li><p>Two Players, choose a combination of 3 heads or tails</p></li>
          <li><p>For example, player 1 chooses the combination <u>HTH</u>. (Heads, Tails, Heads)<p></li>
          <li><p>On the opposition, player 2 chooses the combination <u>TTH</u> (Tails, Tails, Heads)</p></li>
          <li><p>A fair coin is tossed, the players record the results as a sequence.</p></li>
          <li><p>After a couple of tosses, the results may look like this: HHTHHT. Nobody's combination has matched so far.</p></li>
          <li><p>The sequence must be of length 3 or more for matches to occur</p></li>
          <li><p>The next toss is Heads, making the sequence HHTH<u>HTH</u>. The last 3 tosses match player A's combination so they win a point. </p></li>
          <li>The sequence gets reset to nothing and the coin gets tossed again.</li>
          <li><p>The players decide best of how many points to play up to.</p></li>
      </ul>
      <hr>
      <h3>Are all combinations of equally advantageous, similar rock-paper-scissors?</h3>
      <p>If one has studied Penney's game, they will find that this is not the case. There is a trick to always have a higher probability of winning in Penney's game. The trick is to force your opponent to announce their chosen combination first and then to chose our combination based on theirs.</p>
      <p>It is <strong>important</strong> to note that the game is not decided when the strategies are presented, unlike rock paper scissors. It's obvious that in rock paper scissors, it would be ridiculous to allow your opponent to choose the item after you have shown your combination first since it's easy to see how they can win 100% of time without advanced math. Since Penney's game is decided by coin tosses following the announcement of the combination, it's easy to be deceived that it's a fair 50:50 game.</p>

      <h3 id="penney-method">What is the method to always win at Penney's game?</h3>
      <p>Assuming you opponent has announced their combination, you can following the following algorithm to generate a combination that has a higher probability than your opponent's</p>
      <ul>
        <li>Suppose your opponent chooses the combination HTH</li>
        <li>You generated combination should be (opposite of their 2nd)(1st)(2nd) letter</li>
        <li>The 3rd letter of their combination does not matter in the generation of your advantageous combination.</li>
        <li>You're combination following the example should be HHT</li>
      </ul>
      <p>Below are two more examples on how to use this method</p>

      <div class="image-wrapper" style="display: flex; justify-content: center;">
        <img src="penney-gambling-examples.svg" alt="" style="height: 300px;">
      </div> 

      <h3>Let's test this method by pairing all combinations against each other.</h3>
      <p>We are going to test the combinations against each other using the following Python Code. The reader can input the 3 letter combinations in lines 6 and 7 (in capitals) and press run to see percentage of wins after tossing a coin 1 million times. The code Picks a random letter in line 15 using a uniform distribution and makes a sequence. When the sequence is longer than 2 letters, the if statement in line 17 checks the last 3 characters whether they match any of the 2 combinations. This check is carried out on every toss.</p>
      <p>We changed the variables in lines 6 and 7 to generate 26 matches between the pairs and recorded their results in a table below.
      </p>

      <!-- trinket comment out to not spam the API -->

      <!-- <div class="iframe-container" style="padding: 0px 30px; margin-bottom: 40px;">
        <iframe src="https://trinket.io/embed/python/3a19b6d9da" width="100%" height="600" frameborder="0" marginwidth="0" marginheight="0" allowfullscreen></iframe>
      </div> -->

      
      <div style="display: flex; justify-content: center;">
        <img src="penney-results.JPG" alt="">
      </div>


      <h3>How to read this table?</h3>
      <ul>
        <li>The cells coloured in green mean the row combination <strong>won</strong> by obtaining the cell percentage.</li>
        <li>The cells coloured in red mean the row combination <strong>lost</strong> by obtaining the cell percentage.</li>
        <li>Cells coloured in yellow which all have 50% are draws between combinations</li>
        <li>Example: HTH has a 60% chance over HHH</li>
      </ul>
    
      <a href="#penney-method">
        <h3>Did the method we outlined above worked?</h3>
      </a>
      <p>If we pair all the combinations along with their transformed advantegous counter parts we get the following results.</p>
      <p><strong>Note: Destination beats origin</strong></p>
      <ul>
        <li>HHH (12%) &#8594 THH (88%)</li>
        <li>HHT (25%) &#8594 THH (75%)</li>
        <li>HTH (33%) &#8594 HHT (67%)</li>
        <li>HTT (33%) &#8594 HHT (67%)</li>
        <li>THH (33%) &#8594 TTH (67%)</li>
        <li>THT (33%) &#8594 TTH (67%)</li>
        <li>TTH (25%) &#8594 HTT (75%)</li>
        <li>TTT (12%) &#8594 HTT (88%)</li>
      </ul>

      <p>From our repetitive testing, we can see that the method clearly works with a minimum success rate of 67%.</p>
      <p>We can create a diagram which shows the relation between all of the combinations using this method.</p>

      <div class="image-wrapper" style="display: flex; justify-content: center;">
        <img src="penney-intrasitive.svg" alt="" width="600px">
      </div>
      
      <p>The diagram above shows how some combinations my superior than others however there is not a supreme combinations that is above all. These are the required properties for the game to be non-transitive.</p>

      <h3>Why does the method work? And how can we work out the probabilities between each pair?</h3>
      
      <!-- This is example of MathJax -->
      <p>
        Example of MathJax: When \(a \ne 0\), there are two solutions to \(ax^2 + bx + c = 0\) and they are
        $$x = {-b \pm \sqrt{b^2-4ac} \over 2a}.$$
      </p>
      <!-- This is example of MathJax -->


      <div class="maths-explanation-container" style="border: 3px solid rgb(239, 103, 176); padding: 30px;">
        <p>To show how the method works, we are going to cover a couple of cases when this method is used with an arbitrary combination of heads or tails of length 3.</p>
        <p>Using the method we are going to generate the combination of Player 2</p>
        <p style="text-indent: 30px">\(Let \ Player1 = ABC,\) where A, B and C are eaither heads or tails. </p>
        <p style="text-indent: 30px">\(Let \ Player2 = B'AB,\) where B' is <strong>not B</strong></p>

        <p>Case (1a): \(If \ A = B'\)</p>
        <p style="text-indent: 30px">If A = B', we can rewrite the player combinations as follows (rewriting all As as B's).</p>

        <p style="text-indent: 30px">\(Player1 = B'BC\) </p>
        <p style="text-indent: 30px">\(Player2 = B'B'B\) </p>
        <p>We are going to draw a tree diagram to see which combination is most likely to appear.</p>

        <img src="a_equals_not_b.svg" alt="">
        <p></p>
      </div>  

      <!-- Content ends here -->
    </section>

  </main>
</body>
</html>